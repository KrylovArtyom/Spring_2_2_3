<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      lang="en">
<head>
    <meta charset="UTF-8">
    <title>Admin panel</title>
    <style>
        TABLE {
            width: 600px;
            border-collapse: collapse;
        }

        TD, TH {
            padding: 3px;
            border: 1px solid black;
        }
    </style>
</head>
<body>

<div th:fragment="content">
    <fieldset>
        <table>
            <tr>
                <th>id</th>
                <th>Username</th>
                <th>Password</th>
                <th>Name</th>
                <th>Age</th>
                <th>Email</th>
                <th>Roles</th>
                <th>Created At</th>
                <th>Updated At</th>
                <th>Action</th>
            </tr>

            <div th:each="user : ${users}">
                <tr>
                    <td th:text="${user.id}"></td>
                    <td th:text="${user.username}"></td>
                    <td th:text="${user.password}"></td>
                    <td th:text="${user.name}"></td>
                    <td th:text="${user.age}"></td>
                    <td th:text="${user.email}"></td>
                    <td>
                        <div th:each="role : ${user.roles}" th:text="${role.getName()}"></div>
                    </td>
                    <td th:text="${user.createdAt}"></td>
                    <td th:text="${user.updatedAt}"></td>
                    <td>
                        <form th:method="GET" th:action="@{/admin/{id}/editUser(id=${user.id})}">
                            <input type="submit" value="Edit"/>
                        </form>
                        <form th:method="DELETE" th:action="@{/admin/{id}(id=${user.id})}">
                            <input type="submit" value="Delete"/>
                        </form>
                    </td>
                </tr>
            </div>
        </table>
        <br/>

        <form th:method="GET" th:action="@{/admin/newUser}">
            <input type="submit" value="Create new user"/>
        </form>
        <br/>
        <form th:method="GET" th:action="@{/logout}">
            <input type="submit" value="LOGOUT"/>
        </form>

    </fieldset>
</div>
</body>
</html>